# Internationalization (i18n) Implementation

## Overview

The application now supports internationalization using a hybrid approach combining Laravel's backend localization with react-i18next on the frontend. This provides the best of both worlds: server-side translation support with the flexibility of client-side language switching.

## Features Implemented

- âœ… Laravel localization files in `lang/` directory
- âœ… react-i18next for client-side translation management
- âœ… Automatic locale detection from Laravel shared data
- âœ… Type-safe translation keys with TypeScript
- âœ… English and Mongolian language support (proof of concept)
- âœ… Login page fully translated

## Project Structure

```
lang/
â”œâ”€â”€ en/
â”‚   â”œâ”€â”€ auth.php        # Authentication translations
â”‚   â””â”€â”€ common.php      # Common UI translations
â””â”€â”€ mn/
    â”œâ”€â”€ auth.php        # Mongolian auth translations
    â””â”€â”€ common.php      # Mongolian common translations

resources/js/
â”œâ”€â”€ i18n.ts             # i18next initialization
â”œâ”€â”€ locales/
â”‚   â”œâ”€â”€ en/
â”‚   â”‚   â”œâ”€â”€ auth.json
â”‚   â”‚   â””â”€â”€ common.json
â”‚   â””â”€â”€ mn/
â”‚       â”œâ”€â”€ auth.json
â”‚       â””â”€â”€ common.json
â””â”€â”€ utils/
    â””â”€â”€ locale.ts       # Locale switching utilities
```

## Usage

### In React Components

```tsx
import { useTranslation } from 'react-i18next';

export default function MyComponent() {
    const { t } = useTranslation('auth'); // Specify namespace

    return (
        <div>
            <h1>{t('login.title')}</h1>
            <p>{t('login.description')}</p>
        </div>
    );
}
```

### Switching Languages

```tsx
import { switchLocale } from '@/utils/locale';

// Switch to Mongolian
await switchLocale('mn');

// Switch to English
await switchLocale('en');
```

### In Laravel Backend

```php
// In controllers or views
__('auth.login.title');

// With parameters
__('auth.throttle', ['seconds' => 60]);
```

## Adding New Languages

### 1. Create Laravel Translation Files

Create a new directory in `lang/` with the locale code:

```bash
mkdir lang/es
```

Create translation files:

```php
// lang/es/auth.php
<?php
return [
    'login' => [
        'title' => 'Iniciar sesiÃ³n en su cuenta',
        // ... more translations
    ],
];
```

### 2. Create Frontend Translation Files

Create JSON files in `resources/js/locales/`:

```bash
mkdir resources/js/locales/es
```

```json
// resources/js/locales/es/auth.json
{
  "login": {
    "title": "Iniciar sesiÃ³n en su cuenta"
  }
}
```

### 3. Update i18n Configuration

Add the new locale to `resources/js/i18n.ts`:

```ts
import authEs from './locales/es/auth.json';
import commonEs from './locales/es/common.json';

const resources = {
    en: { auth: authEn, common: commonEn },
    mn: { auth: authMn, common: commonMn },
    es: { auth: authEs, common: commonEs }, // Add this
};
```

### 4. Update Locale Utilities

Add the locale to `resources/js/utils/locale.ts`:

```ts
export const availableLocales = [
    { code: 'en', name: 'English', nativeName: 'English' },
    { code: 'mn', name: 'Mongolian', nativeName: 'ÐœÐ¾Ð½Ð³Ð¾Ð»' },
    { code: 'es', name: 'Spanish', nativeName: 'EspaÃ±ol' }, // Add this
] as const;
```

## Translation Namespaces

The application uses namespaces to organize translations:

- **`auth`** - Authentication-related strings (login, register, passwords, etc.)
- **`common`** - Common UI elements (buttons, labels, messages)

## Current Implementation Status

### âœ… Completed
- Login page ([resources/js/pages/session/create.tsx](resources/js/pages/session/create.tsx))
- Backend locale sharing via Inertia
- react-i18next setup
- English and Mongolian translations
- Locale switching utilities

### ðŸ”„ Next Steps
To extend i18n to other pages:

1. Translate other auth pages (Register, Forgot Password, Reset Password)
2. Add translations to dashboard and main app layout
3. Create a language switcher component in the UI
4. Add user locale preference storage in database
5. Implement automatic locale detection from browser settings

## Testing

All existing tests pass with the i18n implementation:

```bash
php artisan test --filter=SessionControllerTest
```

## Build and Deployment

The i18n files are automatically included in the production build:

```bash
npm run build
```

## Best Practices

1. **Always use translation keys** - Never hardcode user-facing strings
2. **Keep translations synced** - When adding to Laravel files, add to JSON files too
3. **Use namespaces** - Organize translations logically by feature/domain
4. **Test all languages** - Ensure UI doesn't break with longer translations
5. **Provide fallbacks** - Always have English as a fallback language

## Example: Translating a New Page

```tsx
// Step 1: Import useTranslation hook
import { useTranslation } from 'react-i18next';

export default function Dashboard() {
    // Step 2: Get translation function
    const { t } = useTranslation('common');

    return (
        <div>
            {/* Step 3: Use t() function for all strings */}
            <h1>{t('welcome')}</h1>
            <button>{t('save')}</button>
        </div>
    );
}
```

## Resources

- [react-i18next Documentation](https://react.i18next.com/)
- [Laravel Localization Documentation](https://laravel.com/docs/localization)
- [i18next Documentation](https://www.i18next.com/)
